<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Layout with Navigation Bar and Boxes</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
  }
  .navbar {
    background-color: #333;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0 10px;
  }
  .navbar-logo {
    font-size: 24px;
    color: white;
    padding: 14px 16px;
  }
  .navbar-menu {
    margin-left: auto;
    display: flex;
  }
  .navbar-menu a {
    color: white;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
  }
  .navbar-menu a:hover {
    background-color: #ddd;
    color: black;
  }
  .search-icon {
    font-size: 24px;
    color: white;
    text-decoration: none;
    display: flex;
    align-items: center;
    padding: 14px 16px;
  }
 
  .content {
    display: flex;
    flex-wrap: wrap; /* 이 부분이 footer를 아래로 내립니다 */
    margin: 0 -10px; /* 상단 박스의 마진으로 인한 간격 조정 */
  }
  .left-column, .right-column {
    padding: 10px;
  }
  .left-column {
    flex: 2; /* Adjust the flex value as needed */
  }
  .right-column {
    flex: 1; /* Adjust the flex value as needed */
  }
  .box, .tall-box, .footer-box {
    border: 1px solid black;
    margin-bottom: 10px;
    margin-left: 10px;
    margin-right: 10px;
  }

/* 뉴스 박스 내용  */
  .box-content1 {
  padding: 20px;
  overflow-y: auto; /* 스크롤바가 필요할 때만 나타나도록 설정 */
  height: 400px; /* 뉴스 박스의 높이를 고정값으로 설정, 내용에 따라 조정 가능 */
  margin-bottom: 10px; /* 하단 마진을 추가하여 레이아웃을 조정 */
}
  .box {
    height: 420px; /* Adjusted height to cover both Box 1 and Box 2 */
  }
  /* 뉴스 박스 끝*/


   /* 댓글 박스 시작*/

   .box-content2 {
    padding: 20px;
    overflow-y: auto;
    height: calc(50% - 10px); /* Adjusted for half the box's height minus the margin */
    margin-bottom: 10px; /* Space between content and comment box */
    margin-right: 10px;
  }
  .comment-section {
    border-top: 1px solid #ccc;
    padding: 20px;
    overflow-y: auto;
    height: calc(80% - 10px); /* Adjusted for half the box's height minus the margin */
  }

  .comment {
    border-bottom: 1px solid #ccc;
    padding: 10px 0;
  }

  .comment-user {
    font-weight: bold;
    color: #333;
  }

  
  .comment-text {
    margin-left: 5px; /* Adjust as needed */
  }

  .comment-form textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    resize: none; 
    margin-right : 10px;
  }

  .comment-form button {
    padding: 10px 20px;
    background-color: #333;
    color: white;
    border: none;
    cursor: pointer;
  }

  .comment-form textarea, .comment-form button {
  /* 기존 스타일 유지 */
  box-sizing: border-box; /* padding과 border가 너비에 포함되도록 설정합니다. */
}

.comment-form {
  /* margin-right를 제거합니다; 필요하다면 padding 값도 조정합니다. */
  padding-right: 10px; /* padding 값을 조정하여 오른쪽에 여백을 줍니다. */
}

  .comment {
    border-bottom: 1px solid #ccc;
    padding: 10px 0;
  }

  .comment:last-child {
    border-bottom: none;
  }



  .tall-box {
    height: 420px; /* Adjust height as needed to match the combined height */
  }

   /* 댓글 박스 끝*/

   .footer {
    width: 100%; /* footer가 전체 너비를 차지하도록 설정 */
    margin-left: 10px;
    margin-right: 10px;
  }
  
  .footer-box {
    border: 1px solid black;
    height: 200px; /* Box 4의 높이, 필요에 따라 조정 */
    margin: 10px;
    box-sizing: border-box; /* border와 padding이 너비에 포함되도록 설정 */
  

  }

</style>
</head>     <!-- ============================= 헤드 시작 ========================-->
<body>
    <script>      /*=======================뉴스 박스 스크립트 시작=============*/
document.addEventListener('DOMContentLoaded', function() {
    let loading = false; // 중복 로딩을 방지하기 위한 플래그
  
    function loadNews() {
      if (loading) return; // 이미 로딩 중이면 함수를 종료합니다.
      loading = true; // 로딩 시작
  
      fetch('/api/news') // 백엔드 엔드포인트 호출
        .then(response => response.json())
        .then(articles => {
          // 뉴스box 컨테이너에 기사를 삽입합니다.
          const newsBox = document.querySelector('.box-content1');
          newsBox.innerHTML += articles.map(article => `
            <h2>${article.title}</h2>
            <p>${article.description}</p>
            <a href="${article.url}" target="_blank">Read more</a>
          `).join('');
          loading = false; // 로딩 완료
        })
        .catch(error => {
          console.error('Error fetching news:', error);
          loading = false; // 오류가 발생해도 로딩 상태를 해제합니다.
        });
    }
  
    const newsBox = document.querySelector('.box-content1');
    newsBox.addEventListener('scroll', function() {
      // 스크롤이 거의 끝에 도달했는지 확인합니다.
      if (newsBox.scrollTop + newsBox.clientHeight >= newsBox.scrollHeight - 10) {
        loadNews(); // 새로운 뉴스를 로드합니다.
      }
    });
  
    loadNews(); // 초기 뉴스 로딩
  });
    </script>

<script>   /*==========================댓글창 스크립트==========================================*/
    // DOMContentLoaded 이벤트 리스너를 사용하여 DOM이 준비된 후 스크립트를 실행합니다.
    document.addEventListener('DOMContentLoaded', function() {
  // 댓글을 제출하는 폼의 이벤트 리스너를 추가합니다.
  document.querySelector('.comment-form').addEventListener('submit', function(e) {
    e.preventDefault(); // 폼의 기본 제출 동작을 방지합니다.

    // textarea에서 사용자의 입력을 가져옵니다.
    const commentInput = document.querySelector('.comment-form textarea');
    const userComment = commentInput.value.trim();

    // 입력값이 비어있지 않은 경우에만 처리합니다.
    if(userComment) {
      // 새 댓글 엘리먼트를 생성합니다.
      const newComment = document.createElement('div');
      newComment.classList.add('comment');
      newComment.innerHTML = `
        <span class="comment-user">@username</span><br>
        <span class="comment-text">${userComment}</span>
      `;

      // 댓글창에 새 댓글을 추가합니다.
      const commentSection = document.querySelector('.comment-section');
      commentSection.insertBefore(newComment, commentSection.firstChild);

      // 입력창을 비웁니다.
      commentInput.value = '';
    }
  });
});

    
    </script>


<script>    /*==================로그인 창======================*/
    document.addEventListener('DOMContentLoaded', function() {
      // menu5 링크 엘리먼트를 가져옵니다.
      const menu5Link = document.querySelector('.navbar-menu a[href="#support"]');
      
      // menu5 클릭 시 페이지 전환 이벤트 핸들러를 추가합니다.
      menu5Link.addEventListener('click', function(e) {
        e.preventDefault(); // 기본 클릭 동작을 방지합니다.

        // 새 페이지 URL로 이동합니다. 이 예제에서는 예시 URL인 "support.html"로 이동합니다.
        window.location.href = 'support.html';
      });
    });
  </script>
<div class="navbar">
  <a href="#home" class="navbar-logo">logo</a>
  <div class="navbar-menu">
    <a href="#home">menu1</a>
    <a href="#news">menu2</a>
    <a href="#contact">menu3</a>
    <a href="#about">menu4</a>
    <a href="support.html">menu5</a>
    <a href="#search" class="search-icon">🔍</a>
  </div>
</div>

<div class="content">
  <div class="left-column">


    <div class="box">     <!--뉴스 박스-->
        <div class="box-content1">
            <!-- Replace this text with the content you want to insert into Box 1 -->
          
          </div>
    </div>
  </div>



  <div class="right-column">
    <div class="tall-box">
        <div class="box-content">
            <!-- Existing content for Box 1 -->
          </div>
          <div class="comment-section">
            <div class="comment">
                <span class="comment-user">@asda</span><br>
                <span class="comment-text">blahblah</span>
              </div>
              <form class="comment-form">
                <textarea placeholder="Write your comment here..."></textarea>
                <button type="submit">Submit Comment</button>
              </form>
    </div>
  </div>
</div>

<div class="footer">
  <div class="footer-box">Box 4</div>
</div>

</body>
</html>
