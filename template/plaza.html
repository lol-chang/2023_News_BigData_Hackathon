<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layout with Navigation Bar and Boxes</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .navbar {
            background-color: #333;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding: 0 7px;
           
        }
        .navbar-logo {
            font-size: 24px;
            color: white;
            padding: 14px 16px;
        }
        .navbar-menu {
            margin-left: auto;
            display: flex;
        }
        .navbar-menu a {
            color: white;
            text-align: center;
            padding: 14px 16px;
            padding-top: 20px;
            text-decoration: none;
        }
        .navbar-menu a:hover {
            background-color: #ddd;
            color: black;
        }
        .search-icon {
            font-size: 24px;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            padding: 14px 16px;
        }

        header, main, footer {
    max-width: 800px;
    margin: auto;
    padding: 20px;
}

header {
    background: #333;
    color: white;
    text-align: center;
    padding: 10px 0;
}

main {
    background: white;
    margin-top: 20px;
    padding: 20px;
}



.petition-form h2, .petitions h2 {
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
}

form {
    margin-top: 10px;
}

form input[type="text"], form textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
}

form button {
    padding: 10px 20px;
    background-color: #5cb85c;
    color: white;
    border: none;
    cursor: pointer;
}

.petition {
    border-bottom: 1px solid #ddd;
    padding: 10px 0;
}

.petition h3 {
    margin: 0;
}

.petition p {
    color: #666;
}

.petition a {
    color: #007bff;
    text-decoration: none;
}

footer {
    text-align: center;
    padding: 10px 0;
    background-color: #333;
    color: white;
    position: relative;
    bottom: 0;
    width: 100%;
    height: 20px;
}

.progress-container {
    background-color: #e0e0e0;
    border-radius: 5px; /* 모서리를 둥글게 */
}

.progress-bar {
    height: 20px;
    background-color: #4CAF50;
    border-radius: 5px; /* 모서리를 둥글게 */
    width: 0; /* JS로 애니메이션 효과를 주기 위해 초기값을 0으로 설정 */
    text-align: center; /* 텍스트 중앙 정렬 */
    line-height: 20px; /* 텍스트를 세로 중앙으로 정렬 */
    color: white; /* 텍스트 색상 */
}


    </style>
</head>
<body>
    
    
    <script>

function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    /*   ================= user 정보 =================    */
    var username = getCookie("username");
    var age = "{{ age }}";
    var job = "{{ job }}";
    var gender = "{{gender}}"
    var country = "{{country}}"
    /*   =============================================   */
    window.onload = function() {
        
        if (username) {
            // 사용자 이름을 페이지에 표시하는 로직
            document.getElementById("menu5").textContent = username;
            document.getElementById("menu4").textContent = "Log out";
        }
    };

        document.addEventListener('DOMContentLoaded', function() {
            var searchBox = document.getElementById('search-box');
            var searchInput = document.getElementById('search-input');

            // 검색 아이콘 클릭 이벤트 리스너
            document.getElementById('search-icon').addEventListener('click', function(e) {
                e.preventDefault();
                toggleSearchBox();
            });

            // 검색 입력창에서 Enter 키 이벤트 리스너
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    var searchValue = searchInput.value.trim();
                    if (searchValue) {
                        // 검색값 저장 로직 (예: 콘솔에 출력)
                        console.log("검색어:", searchValue);
                        // 검색창 숨기기
                        toggleSearchBox();
                        // 입력창 초기화
                        searchInput.value = '';
                    }
                }
            });

            function toggleSearchBox() {
                if (searchBox.style.display === 'none') {
                    searchBox.style.display = 'block';
                    searchInput.focus();
                } else {
                    searchBox.style.display = 'none';
                }
            }
        });

            document.addEventListener('DOMContentLoaded', function() {
                document.querySelector('.comment-form').addEventListener('submit', function(e) {
                e.preventDefault();

                const commentInput = document.querySelector('.comment-form textarea');
                const userComment = commentInput.value.trim();

                if(userComment) {
                    const newComment = document.createElement('div');
                    newComment.classList.add('comment');
                    newComment.innerHTML = `
                        <span class="comment-user">@${username}-${age}-${job}</span><br>
                        <span class="comment-text">${userComment}</span>
                    `;

                    const commentSection = document.querySelector('.comment-section');
                    commentSection.insertBefore(newComment, commentSection.firstChild);

                    commentInput.value = '';
                }
            });
        });

        function likeFunction() {
    // 좋아요 버튼을 눌렀을 때 실행할 로직
         alert('좋아요 버튼이 클릭되었습니다!');
        }

        function unlikeFunction() {
    // 좋아요 버튼을 눌렀을 때 실행할 로직
         alert('싫어요 버튼이 클릭되었습니다!');
        }
 
    


    </script>
    <div class="navbar">
        <a href="/" class="navbar-logo">logo</a>
        <div class="navbar-menu">
            <a href="/plaza">지방의회광장</a>
            <a href="https://www.bigkinds.or.kr/#n">BigKinds</a>
            <a href="https://www.juminegov.go.kr/ordn/reqList">주민e직접</a>
            <a href="#about" class="signin" id="menu4">Sign In</a>
            <a href="/login" class="user/login" id="menu5">Log In</a>
            <a href="#" class="search-icon" id ="search-icon">🔍</a>
            <div class="search-box" id="search-box" style="display: none;">
                <input type="text" placeholder="Search..." id = "search-input">
            </div>
        </div>
    </div>

    <header>
        <h1>조례 게시판</h1>
    </header>
    <main class="main-container">

        <section class="petitions">
            <h2>인기있는 조례</h2>
            <article class="petition">
                <h3>재활용 촉진 조례</h3>
                <p> 모든 주거 단지와 상업 시설에 재활용 분리수거함 설치를 의무화하고, 정기적인 재활용 교육 프로그램을 실시합니다. 또한, 재활용을 적극적으로 실천하는 기업에게 세금 감면 또는 기타 인센티브를 제공</p>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 80%;"></div>
                </div>
                <a href="/debate">지방 토론장</a>
            </article>
            <article class="petition">
                <h3>디지털 디톡스 시간</h3>
                <p>매주 한 번, 핸드폰을 이용하지 않는 '휴대폰 휴식 시간'을 마련합니다. 이 시간 동안 학생들은 핸드폰 사용을 자제하고, 대신 서로와의 대화, 독서, 혹은 유익한 활동을 즐길 수 있습니다.</p>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 50%;"></div>
                </div>
                <a href="#">지방 토론장</a>
            </article>
            <article class="petition">
                <h3>학생인권조례</h3>
                <p>학교 내 음악적 자유: 학생들은 학교 내에서 자신들의 음악적 취향과 관심을 존중받을 권리가 있습니다. 학생들은 적절한 시간과 장소에서 볼륨을 적절히 조절하여 개인적인 음악을 감상할 수 있습니다</p>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 40%;"></div>
                </div>
                <a href="#">지방 토론장</a>
            </article>
            <article class="petition">
                <h3>조례 제목 1</h3>
                <p>조례 내용 요약 1...</p>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 20%;"></div>
                </div>
                <a href="#">지방 토론장</a>
            </article>
            <article class="petition">
                <h3>조례 제목 1</h3>
                <p>조례 내용 요약 1...</p>
                <div class="progress-container">
                    <div class="progress-bar" style="width: 20%;"></div>
                </div>
                <a href="#">지방 토론장</a>
            </article>
            <!-- 반복되는 청원들 -->
        </section>

        <!-- <section class="petition-form">
            <h2>청원 작성</h2>
            <form id="petitionForm">
                <input type="text" id="title" name="title" placeholder="청원 제목" required>
                <textarea id="description" name="description" rows="5" placeholder="청원 내용" required></textarea>
                <button type="submit">청원하기</button>
            </form>
        </section> -->
    </main>




    <footer>
        <p>© 2023 조례 게시판 사이트</p>
    </footer>
 
   
    
    
</body>
</html>
